<nav class="flex justify-between p-5">
  <div>
    <h1 class="text-2xl font-bold">Associations Management</h1>
    <small class="text-neutral-500">Associations are relations of terms to other terms</small>
  </div>
  <p-button label="Add" icon="fa fa-plus" severity="success" (click)="addAssociation()"></p-button>
</nav>

<p-table [value]="associations()" [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template pTemplate="header">
    <tr>
      <th>Term</th>
      <th>Associated Terms</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-row>
    <tr>
      <td>{{ row.term.name }}</td>
      <td class="max-w-[60vw]">
        <div class="flex flex-wrap gap-2">
          @for (term of row.associatedTerms; track term.id) {
          <p-tag [value]="term.name" severity="info"></p-tag>
          }
        </div>
      </td>
      <td class="flex gap-2 !px-0">
        <p-button
          class="text-xs"
          icon="fa fa-pen"
          severity="secondary"
          size="small"
          (click)="editAssociation(row)"
        ></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>

<app-association-form [termOptions]="terms()" #associationForm></app-association-form>
